# -*- coding: utf-8 -*-
# @Time : 2024/7/25 15:24
# @Author : ordar
# @Project : aaaa
# @File : peiqiimg.py.py
# @Python: 3.7.5
import os

FLAG = r"../../../.vuepress/public/"

for root, dirs, files in os.walk("."):
    # print(root, dirs, files)
    for file in files:
        file_path = os.path.join(root,file)
        # print(file_path)
        if file.endswith(".md"):
            with open(file_path, "r", encoding="utf8") as f:
                file_content = f.read()
            if FLAG in file_content:
                print(f"图片路径修复：{file_path}")
                with open(file_path, "w", encoding="utf8") as f:
                    new_file_content = file_content.replace(r"../../../.vuepress/public/img/", "https://fastly.jsdelivr.net/gh/MrWQ/vulnerability-test-img/PeiQiImg/")
                    f.write(new_file_content)
